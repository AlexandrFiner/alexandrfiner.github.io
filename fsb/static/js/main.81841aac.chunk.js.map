{"version":3,"sources":["js/store/vk/actions.js","js/store/vk/actionTypes.js","js/services/VK.js","js/services/_functions.js","js/store/router/reducers.js","js/store/vk/reducers.js","js/store/formData/reducers.js","js/store/reducers.js","js/store/router/actionTypes.js","js/store/formData/actionTypes.js","js/store/router/actions.js","js/panels/home/base.js","js/components/GroupCell.js","js/services/renderers.js","js/panels/home/groups.js","js/components/modals/HomeBotsListModal.js","js/components/modals/HomeBotInfoModal.js","App.js","index.js"],"names":["setAccessToken","accessToken","type","payload","APICall","method","params","store","getState","vkui","undefined","VKConnect","send","then","data","response","catch","error","getActivePanel","view","panel","router","activePanel","panelsHistory","length","initialState","activeStory","activeView","storiesHistory","viewsHistory","activeModals","modalHistory","popouts","scrollPosition","colorScheme","activeTab","componentScroll","forms","combineReducers","state","arguments","action","Object","objectSpread","defineProperty","component","tab","x","y","element","document","getElementById","getElementsByClassName","scrollLeft","scrollTop","View","Panel","window","history","pushState","viewIndexInHistory","indexOf","splice","concat","toConsumableArray","pageYOffset","story","initial_panel","firstPanel","shift","firstView","scrollTo","smoothScrollToTop","c","documentElement","body","requestAnimationFrame","setView","setPanel","setStory","popoutsData","viewModalsHistory","activeModal","push","pop","panelsHistoryNew","status","popout","id","modalsHistory","formData","form","goBack","openPopout","closePopout","openModal","closeModal","Fragment","React","Component","HomePanelBase","showImg","message","random_messages","viewAd","bridge","supports","ad_format","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","ad","wrap","_context","prev","next","result","alert","abrupt","location","reload","_this","setState","react_default","createElement","es6","disabled","multiline","before","size","src","caption","Math","floor","random","stop","_x","apply","this","_this2","props","actions","title","autoclose","style","onClose","_this3","stretched","view_outline","mode","onClick","vertical","wide","after","base_Fragment","voice_outline","placeholder","mapDispatchToProps","setPage","connect","GroupCell","_this$props","description","photo","name","desc","PureComponent","renderGroupsList","items","groups","map","group","components_GroupCell","key","photo_100","HomePanelGroups","admined","other","loading","errorGetAuthToken","getAuthToken","getGroupsList","scope","dispatch","app_id","join","access_token","prevProps","prevState","snapshot","localStorage","getItem","JSON","parse","extended","fields","count","adminedGroups","filter","item","is_admin","otherGroups","setItem","stringify","adminedGroupsList","otherGroupsList","left","header","bindActionCreators","bots","avatar","HomeBotsListModal","platform","IOS","cancel_default","right","dismiss_default","settlingHeight","bot","index","asideContent","chevron_default","fill","withPlatform","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","lastAndroidBackAction","group_id","subscribe","VKConnectCallback","e","detail","unsubscribe","scheme","onpopstate","timeNow","Date","_this$props2","pageScrollPosition","scroll","_this$props3","homeModals","modals_HomeBotsListModal","HomeBotInfoModal","isWebView","modal","onSwipeBack","base","withoutEpic","home_groups","__webpack_require__","d","__webpack_exports__","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","react_redux_es","src_App"],"mappings":"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","file":"static/js/main.81841aac.chunk.js","sourcesContent":["import {\r\n    SET_COLOR_SCHEME,\r\n    SET_ACCESS_TOKEN,\r\n    SET_ACTIVE_TAB,\r\n    SET_SCROLL_POSITION,\r\n    SET_SCROLL_POSITION_BY_ID\r\n} from './actionTypes';\r\n\r\nexport const setColorScheme = (scheme) => (\r\n    {\r\n        type: SET_COLOR_SCHEME,\r\n        payload: scheme\r\n    }\r\n);\r\n\r\nexport const setAccessToken = (accessToken) => (\r\n    {\r\n        type: SET_ACCESS_TOKEN,\r\n        payload: accessToken\r\n    }\r\n);\r\n\r\nexport const setActiveTab = (component, tab) => (\r\n    {\r\n        type: SET_ACTIVE_TAB,\r\n        payload: {\r\n            component,\r\n            tab\r\n        }\r\n    }\r\n);\r\n\r\nexport const setScrollPosition = (component, x = 0, y = 0) => (\r\n    {\r\n        type: SET_SCROLL_POSITION,\r\n        payload: {\r\n            component,\r\n            x,\r\n            y\r\n        }\r\n    }\r\n);\r\n\r\nexport const setScrollPositionByID = (component) => (\r\n    {\r\n        type: SET_SCROLL_POSITION_BY_ID,\r\n        payload: {\r\n            component\r\n        }\r\n    }\r\n);","export const SET_COLOR_SCHEME = 'SET_COLOR_SCHEME';\r\nexport const SET_ACCESS_TOKEN = 'SET_ACCESS_TOKEN';\r\nexport const SET_ACTIVE_TAB = 'SET_ACTIVE_TAB';\r\nexport const SET_SCROLL_POSITION = 'SET_SCROLL_POSITION';\r\nexport const SET_SCROLL_POSITION_BY_ID = 'SET_SCROLL_POSITION_BY_ID';","import VKConnect from \"@vkontakte/vk-connect\";\r\n\r\nimport {store} from \"../../index\";\r\n\r\nimport {setColorScheme, setAccessToken} from \"../store/vk/actions\";\r\n\r\nconst APP_ID = 6984089;\r\nconst API_VERSION = '5.92';\r\n\r\nexport const initApp = () => (dispatch) => {\r\n    const VKConnectCallback = (e) => {\r\n        if (e.detail.type === 'VKWebAppUpdateConfig') {\r\n            VKConnect.unsubscribe(VKConnectCallback);\r\n\r\n            dispatch(setColorScheme(e.detail.data.scheme));\r\n        }\r\n    };\r\n\r\n    VKConnect.subscribe(VKConnectCallback);\r\n    return VKConnect.send('VKWebAppInit', {}).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const getAuthToken = (scope) => (dispatch) => {\r\n    VKConnect.send(\"VKWebAppGetAuthToken\", {\r\n        \"app_id\": APP_ID,\r\n        \"scope\": scope.join(',')\r\n    }).then(data => {\r\n        dispatch(setAccessToken(data.access_token));\r\n    }).catch(() => {\r\n        dispatch(setAccessToken(null));\r\n    });\r\n};\r\n\r\nexport const closeApp = () => {\r\n    return VKConnect.send(\"VKWebAppClose\", {\r\n        \"status\": \"success\"\r\n    }).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const swipeBackOn = () => {\r\n    return VKConnect.send(\"VKWebAppEnableSwipeBack\", {}).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const swipeBackOff = () => {\r\n    return VKConnect.send(\"VKWebAppDisableSwipeBack\", {}).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const groupsGet = () => {\r\n    return APICall('groups.get', {\r\n        \"extended\": \"1\",\r\n        \"fields\": \"description\",\r\n        \"count\": \"100\"\r\n    });\r\n};\r\n\r\nexport const APICall = (method, params) => {\r\n    params['access_token'] = store.getState().vkui.accessToken;\r\n    params['v'] = params['v'] === undefined ? API_VERSION : params['v'];\r\n\r\n    return VKConnect.send(\"VKWebAppCallAPIMethod\", {\r\n        \"method\": method,\r\n        \"params\": params\r\n    }).then(data => {\r\n        return data.response;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n","import {store} from \"../../index\";\r\n\r\nexport const smoothScrollToTop = () => {\r\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\r\n\r\n    if (c > 30) {\r\n        return;\r\n    }\r\n\r\n    if (c > 0) {\r\n        window.requestAnimationFrame(smoothScrollToTop);\r\n        window.scrollTo(0, c - c / 8);\r\n    }\r\n};\r\n\r\nexport const restoreScrollPosition = () => {\r\n    let scrolls = store.getState().vkui.componentScroll;\r\n\r\n    Object.keys(scrolls).forEach((component) => {\r\n        let componentData = scrolls[component];\r\n\r\n        let element = document.getElementById(component);\r\n\r\n        if (element) {\r\n            element = element.getElementsByClassName(\"HorizontalScroll__in\")[0];\r\n\r\n            element.scrollLeft = componentData.x;\r\n            element.scrollTop = componentData.y;\r\n        }\r\n    });\r\n};\r\n\r\nexport const getActivePanel = (view) => {\r\n    let panel = store.getState().router.activePanel;\r\n\r\n    let panelsHistory = store.getState().router.panelsHistory;\r\n    if (typeof panelsHistory[view] !== \"undefined\") {\r\n        panel = panelsHistory[view][panelsHistory[view].length - 1];\r\n    }\r\n\r\n    return panel;\r\n};\r\n","import {\r\n    SET_PAGE,\r\n    GO_BACK,\r\n    OPEN_POPOUT,\r\n    CLOSE_POPOUT,\r\n    OPEN_MODAL,\r\n    CLOSE_MODAL,\r\n    SET_STORY\r\n} from './actionTypes';\r\n\r\nimport * as VK from \"../../services/VK\";\r\nimport {smoothScrollToTop} from \"../../services/_functions\";\r\n\r\nconst initialState = {\r\n    activeStory: null,\r\n    activeView: null,\r\n    activePanel: null,\r\n\r\n    storiesHistory: [],\r\n    viewsHistory: [],\r\n    panelsHistory: [],\r\n\r\n    activeModals: [],\r\n    modalHistory: [],\r\n    popouts: [],\r\n\r\n    scrollPosition: []\r\n};\r\n\r\nexport const routerReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_PAGE: {\r\n            let View = action.payload.view;\r\n            let Panel = action.payload.panel;\r\n\r\n            window.history.pushState(null, null);\r\n\r\n            let panelsHistory = state.panelsHistory[View] || [];\r\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\r\n\r\n            const viewIndexInHistory = viewsHistory.indexOf(View);\r\n\r\n            if (viewIndexInHistory !== -1) {\r\n                viewsHistory.splice(viewIndexInHistory, 1);\r\n            }\r\n\r\n            if (panelsHistory.indexOf(Panel) === -1) {\r\n                panelsHistory = [...panelsHistory, Panel];\r\n            }\r\n\r\n            if (panelsHistory.length > 1) {\r\n                VK.swipeBackOn();\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeView: View,\r\n                activePanel: Panel,\r\n\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [View]: panelsHistory,\r\n                },\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [state.activeStory]: [...viewsHistory, View]\r\n                },\r\n                scrollPosition: {\r\n                    ...state.scrollPosition,\r\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        case SET_STORY: {\r\n            window.history.pushState(null, null);\r\n\r\n            let viewsHistory = state.viewsHistory[action.payload.story] || [action.payload.story];\r\n\r\n            let storiesHistory = state.storiesHistory;\r\n            let activeView = viewsHistory[viewsHistory.length - 1];\r\n            let panelsHistory = state.panelsHistory[activeView] || [action.payload.initial_panel];\r\n            let activePanel = panelsHistory[panelsHistory.length - 1];\r\n\r\n            if (action.payload.story === state.activeStory) {\r\n                if (panelsHistory.length > 1) {\r\n                    let firstPanel = panelsHistory.shift();\r\n                    panelsHistory = [firstPanel];\r\n\r\n                    activePanel = panelsHistory[panelsHistory.length - 1];\r\n                } else if (viewsHistory.length > 1) {\r\n                    let firstView = viewsHistory.shift();\r\n                    viewsHistory = [firstView];\r\n\r\n                    activeView = viewsHistory[viewsHistory.length - 1];\r\n                    panelsHistory = state.panelsHistory[activeView];\r\n                    activePanel = panelsHistory[panelsHistory.length - 1];\r\n                }\r\n            }\r\n\r\n            if (action.payload.story === state.activeStory && panelsHistory.length === 1 && window.pageYOffset > 0) {\r\n                window.scrollTo(0, 30);\r\n\r\n                smoothScrollToTop();\r\n            }\r\n\r\n            const storiesIndexInHistory = storiesHistory.indexOf(action.payload.story);\r\n\r\n            if (storiesIndexInHistory === -1 || (storiesHistory[0] === action.payload.story && storiesHistory[storiesHistory.length - 1] !== action.payload.story)) {\r\n                storiesHistory = [...storiesHistory, action.payload.story];\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeStory: action.payload.story,\r\n                activeView: activeView,\r\n                activePanel: activePanel,\r\n\r\n                storiesHistory: storiesHistory,\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [activeView]: viewsHistory\r\n                },\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [activeView]: panelsHistory\r\n                },\r\n\r\n                scrollPosition: {\r\n                    ...state.scrollPosition,\r\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        case GO_BACK: {\r\n            let setView = state.activeView;\r\n            let setPanel = state.activePanel;\r\n            let setStory = state.activeStory;\r\n\r\n            let popoutsData = state.popouts;\r\n\r\n            if (popoutsData[setView]) {\r\n                popoutsData[setView] = null;\r\n\r\n                return {\r\n                    ...state,\r\n                    popouts: {\r\n                        ...state.popouts, popoutsData\r\n                    }\r\n                };\r\n            }\r\n\r\n            let viewModalsHistory = state.modalHistory[setView];\r\n\r\n            if (viewModalsHistory !== undefined && viewModalsHistory.length !== 0) {\r\n                let activeModal = viewModalsHistory[viewModalsHistory.length - 2] || null;\r\n\r\n                if (activeModal === null) {\r\n                    viewModalsHistory = [];\r\n                } else if (viewModalsHistory.indexOf(activeModal) !== -1) {\r\n                    viewModalsHistory = viewModalsHistory.splice(0, viewModalsHistory.indexOf(activeModal) + 1);\r\n                } else {\r\n                    viewModalsHistory.push(activeModal);\r\n                }\r\n\r\n                return {\r\n                    ...state,\r\n                    activeModals: {\r\n                        ...state.activeModals,\r\n                        [setView]: activeModal\r\n                    },\r\n                    modalHistory: {\r\n                        ...state.modalHistory,\r\n                        [setView]: viewModalsHistory\r\n                    }\r\n                };\r\n            }\r\n\r\n            let panelsHistory = state.panelsHistory[setView] || [];\r\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\r\n            let storiesHistory = state.storiesHistory;\r\n\r\n            if (panelsHistory.length > 1) {\r\n                panelsHistory.pop();\r\n\r\n                setPanel = panelsHistory[panelsHistory.length - 1];\r\n            } else if (viewsHistory.length > 1) {\r\n                viewsHistory.pop();\r\n\r\n                setView = viewsHistory[viewsHistory.length - 1];\r\n                let panelsHistoryNew = state.panelsHistory[setView];\r\n\r\n                setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\r\n            } else if (storiesHistory.length > 1) {\r\n                storiesHistory.pop();\r\n\r\n                setStory = storiesHistory[storiesHistory.length - 1];\r\n                setView = state.viewsHistory[setStory][state.viewsHistory[setStory].length - 1];\r\n\r\n                let panelsHistoryNew = state.panelsHistory[setView];\r\n\r\n                if (panelsHistoryNew.length > 1) {\r\n                    setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\r\n                } else {\r\n                    setPanel = panelsHistoryNew[0];\r\n                }\r\n            } else {\r\n                VK.closeApp();\r\n            }\r\n\r\n            if (panelsHistory.length === 1) {\r\n                VK.swipeBackOff();\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeView: setView,\r\n                activePanel: setPanel,\r\n                activeStory: setStory,\r\n\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [state.activeView]: viewsHistory\r\n                },\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [state.activeView]: panelsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        case OPEN_POPOUT: {\r\n            window.history.pushState(null, null);\r\n\r\n            return {\r\n                ...state,\r\n                popouts: {\r\n                    ...state.popouts,\r\n                    [state.activeView]: action.payload.popout\r\n                }\r\n            };\r\n        }\r\n\r\n        case CLOSE_POPOUT: {\r\n            return {\r\n                ...state,\r\n                popouts: {\r\n                    ...state.popouts,\r\n                    [state.activeView]: null\r\n                }\r\n            };\r\n        }\r\n\r\n        case OPEN_MODAL: {\r\n            window.history.pushState(null, null);\r\n\r\n            let activeModal = action.payload.id || null;\r\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\r\n\r\n            if (activeModal === null) {\r\n                modalsHistory = [];\r\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\r\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n                modalsHistory.push(activeModal);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeModals: {\r\n                    ...state.activeModals,\r\n                    [state.activeView]: activeModal\r\n                },\r\n                modalHistory: {\r\n                    ...state.modalHistory,\r\n                    [state.activeView]: modalsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        case CLOSE_MODAL: {\r\n            let activeModal = state.modalHistory[state.activeView][state.modalHistory[state.activeView].length - 2] || null;\r\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\r\n\r\n            if (activeModal === null) {\r\n                modalsHistory = [];\r\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\r\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n                modalsHistory.push(activeModal);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeModals: {\r\n                    ...state.activeModals,\r\n                    [state.activeView]: activeModal\r\n                },\r\n                modalHistory: {\r\n                    ...state.modalHistory,\r\n                    [state.activeView]: modalsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n","import {\r\n    SET_ACCESS_TOKEN,\r\n    SET_ACTIVE_TAB,\r\n    SET_COLOR_SCHEME,\r\n    SET_SCROLL_POSITION,\r\n    SET_SCROLL_POSITION_BY_ID\r\n} from './actionTypes';\r\n\r\nconst initialState = {\r\n    accessToken: undefined,\r\n    colorScheme: 'client_light',\r\n\r\n    activeTab: [],\r\n    componentScroll: []\r\n};\r\n\r\nexport const vkuiReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_COLOR_SCHEME: {\r\n            return {\r\n                ...state,\r\n                colorScheme: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_ACCESS_TOKEN: {\r\n            return {\r\n                ...state,\r\n                accessToken: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_ACTIVE_TAB: {\r\n            return {\r\n                ...state,\r\n                activeTab: {\r\n                    ...state.activeTab,\r\n                    [action.payload.component]: action.payload.tab\r\n                },\r\n            };\r\n        }\r\n\r\n        case SET_SCROLL_POSITION: {\r\n            return {\r\n                ...state,\r\n                componentScroll: {\r\n                    ...state.componentScroll,\r\n                    [action.payload.component]: {\r\n                        x: action.payload.x,\r\n                        y: action.payload.y\r\n                    }\r\n                },\r\n            };\r\n        }\r\n\r\n        case SET_SCROLL_POSITION_BY_ID: {\r\n            let element = document.getElementById(action.payload.component).getElementsByClassName(\"HorizontalScroll__in\")[0];\r\n\r\n            let x = element.scrollLeft;\r\n            let y = element.scrollTop;\r\n\r\n            return {\r\n                ...state,\r\n                componentScroll: {\r\n                    ...state.componentScroll,\r\n                    [action.payload.component]: {\r\n                        x: x,\r\n                        y: y\r\n                    }\r\n                },\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};","import {SET_FORM_DATA} from './actionTypes';\r\n\r\nconst initialState = {\r\n    forms: []\r\n};\r\n\r\nexport const formDataReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_FORM_DATA: {\r\n            return {\r\n                ...state,\r\n                forms: {\r\n                    ...state.forms,\r\n                    [action.payload.form]: action.payload.data\r\n                }\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n\r\n    }\r\n\r\n};","import {combineReducers} from \"redux\";\r\nimport {routerReducer} from './router/reducers';\r\nimport {vkuiReducer} from './vk/reducers';\r\nimport {formDataReducer} from \"./formData/reducers\";\r\n\r\nexport default combineReducers({\r\n    vkui: vkuiReducer,\r\n    router: routerReducer,\r\n    formData: formDataReducer\r\n});","export const SET_PAGE = 'SET_PAGE';\r\nexport const SET_STORY = 'SET_STORY';\r\nexport const GO_BACK = 'GO_BACK';\r\nexport const OPEN_POPOUT = 'OPEN_POPOUT';\r\nexport const CLOSE_POPOUT = 'CLOSE_POPOUT';\r\nexport const OPEN_MODAL = 'OPEN_MODAL';\r\nexport const CLOSE_MODAL = 'CLOSE_MODAL';","export const SET_FORM_DATA = 'SAVE_FORM_DATA';","import {SET_PAGE, SET_STORY, GO_BACK, OPEN_POPOUT, CLOSE_POPOUT, OPEN_MODAL, CLOSE_MODAL} from './actionTypes';\r\n\r\nexport const setStory = (story, initial_panel) => (\r\n    {\r\n        type: SET_STORY,\r\n        payload: {\r\n            story: story,\r\n            initial_panel: initial_panel,\r\n        }\r\n    }\r\n);\r\n\r\nexport const setPage = (view, panel) => (\r\n    {\r\n        type: SET_PAGE,\r\n        payload: {\r\n            view: view,\r\n            panel: panel\r\n        }\r\n    }\r\n);\r\n\r\nexport const goBack = () => (\r\n    {\r\n        type: GO_BACK\r\n    }\r\n);\r\n\r\nexport const openPopout = (popout) => (\r\n    {\r\n        type: OPEN_POPOUT,\r\n        payload: {\r\n            popout: popout\r\n        }\r\n    }\r\n);\r\n\r\nexport const closePopout = () => (\r\n    {\r\n        type: CLOSE_POPOUT\r\n    }\r\n);\r\n\r\nexport const openModal = (id) => (\r\n    {\r\n        type: OPEN_MODAL,\r\n        payload: {\r\n            id\r\n        }\r\n    }\r\n);\r\n\r\nexport const closeModal = () => (\r\n    {\r\n        type: CLOSE_MODAL\r\n    }\r\n);\r\n","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {closePopout, goBack, openModal, openPopout, setPage} from '../../store/router/actions';\r\n\r\nimport {\r\n    Div,\r\n    Panel,\r\n    Alert,\r\n    Group,\r\n    Button,\r\n    PanelHeader,\r\n    PanelHeaderButton,\r\n    platform,\r\n    PanelHeaderContent, Avatar, WriteBarIcon, WriteBar, Separator, FixedLayout, RichCell\r\n} from \"@vkontakte/vkui\"\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport {Icon28ViewOutline, Icon28VoiceOutline} from \"@vkontakte/icons\";\r\nimport * as PropTypes from \"prop-types\";\r\n\r\nclass Fragment extends React.Component {\r\n    render() {\r\n        return null;\r\n    }\r\n}\r\n\r\nFragment.propTypes = {children: PropTypes.node};\r\n\r\nclass HomePanelBase extends React.Component {\r\n\r\n    state = {\r\n        showImg: false,\r\n        message: '',\r\n        random_messages: [\r\n            'Большинство населения России до сих пор не может понять в деле Навального самого главного: - Зачем менять трусы каждый день???',\r\n\r\n            'В ФСБ для нерадивых сотрудников появилось новое наказание - донашивать трусы Навального.',\r\n\r\n            'ФСБ в срочном порядке зарегистрировало одноименный бренд для стирального порошка...',\r\n\r\n            'Чекисты услышали, что яд - это оружие трусов, но поняли это по-своему.',\r\n\r\n            '- Вы где служили? - В химических войсках. - А конкретнее? - В гульфиковой части.',\r\n\r\n            'ФСБ запретила своим сотрудникам отвечать на звонки Навального.',\r\n\r\n            '— Алло, это прачечная? — Х##чечная. Это ФСБ.',\r\n\r\n            'Капитану ФСБ дали условный срок за разглашение гостайны. По ходу, гостайна тоже была условная.',\r\n\r\n            '- Где служишь? - Я работаю в ФСБ. - Расскажи что-нибудь интересное! - О тебе или о себе?',\r\n\r\n            'Режим инкогнито тебе не поможет, дружок',\r\n\r\n            'Каждое правительство обязательно должно прислушиваться к мнению своего народа. Для этого у него есть специальные службы.',\r\n\r\n            'В следующий раз закрывай камеру, у нас тут вообще-то женьщины тоже работают',\r\n\r\n            'ЦРУ, походу, совсем с головой не дружит. Предлагать начальнику ФСБ по Северному Кавказу сто тысяч евро за шпионаж! Да он за проживание боевиков в день больше имеет!',\r\n\r\n            'ФСБ выпустила новый справочник \"Допуски и посадки\".',\r\n\r\n            'Пытался объяснить дедушке, что такое \"Вконтакте\". Теперь он думает, что я работаю в ФСБ.',\r\n\r\n            '- Почему ты решил, что ФСБ установила в твоей квартире подслушивающий жучок? - У меня в комнате со вчерашнего дня стало на один шкаф больше.',\r\n\r\n            '- Здравствуйте, это вам из ФСБ звонят. - Я знаю. - Откуда? - Вы мне на выключенный мобильник дозвонились.',\r\n\r\n            '— Алло, это анонимный телефон доверия ФСБ? — Да, Вячеслав.',\r\n\r\n            'Страх перед ФСБ и прокуратурой - единственное, что сдерживает русский народ от справедливого суда.',\r\n\r\n            'Они писали друг другу в ВК такие нежные и чувственные сообщения, что плакали все сотрудники ФСБ...',\r\n\r\n            '— Скажи мне, кто твой друг, и я скажу, кто ты! — Мой друг - генерал-полковник ФСБ. — Везунчик!',\r\n\r\n            'В ФСБ пришла новая разнарядка: всех знатоков художественного свиста считать потенциальными террористами.',\r\n\r\n            'Рапорт сотрудника ФСБ: \"При осмотре смартфона обнаружены признаки экстремизма - функция \"смена режима\".',\r\n\r\n            'У генерала ФСБ родился внук, уже с \"легендой\" быть богатым.',\r\n\r\n            'Много пишешь о себе - помогаешь ФСБ.',\r\n\r\n            'Может ли ФСБ подготовить такой теракт, который сама же не сможет предотвратить?',\r\n\r\n            'В школе ФСБ контрольная по списыванию. Ставят 2 оценки: за граммотность и за скрытность.',\r\n\r\n            'Милицию переименовать в полиции - ФСБ в жандармское управление',\r\n\r\n            'ФСБ наказала своих провалившихся агентов самым страшным для чекистов наказанием - возвращением на родину.',\r\n\r\n            'ФСБ установила наблюдение за пятой колонной Большого театра.',\r\n\r\n            'Хватит торчать на Одноклассниках и Вконтактах! Зарегистрируй своих друзей на ФСБуке...',\r\n\r\n            'При аварии машин ФСБ и ФСО правила нарушились сами.',\r\n\r\n            'Может ли машина полковника ГАИ быть виноватой в аварии? Да, если столкнется с машиной генерала ФСБ.',\r\n\r\n            'У нас в стране есть одаренная милиция? да, только называется она ФСБ',\r\n\r\n            'Я думаю, что ФСБ скоро начнет проверять людей, которые не зарегистрированы на ВК. Мол, что-то тут не чисто..',\r\n\r\n            'По итогам 2006 года в 12-ый раз ФСБ РФ признана лучшей крышей в России.\\n',\r\n\r\n            'ФСБ объявило тендер на производство детекторов лжи. Тендер выиграл Московский завод паяльников.',\r\n\r\n            'Практически все ларьки являются филиалами ФСБ - у окошка призыв: \"СТУЧИТЕ ОТКРЫТО\"',\r\n\r\n            'После успешной операции с Байкалфинансгрупп, ФСБ подумывает о национализации mail.ru. Вся переписка страны в одном месте! Удобно...',\r\n\r\n            'Вчера сотрудники ФСБ обнаружили еще один шпионский камень и повезли его на допрос. После многочасовых допросов камень раскололся.',\r\n\r\n            'Есть время разбрасывать камни и есть время собирать камни. И сейчас самое время! - решило ФСБ.',\r\n\r\n            'Привет, это разработчик, админ этой группы держит меня без еды, помогите мне',\r\n\r\n            'Ничто не вызывает такую грустную усмешку как надпись \"телефон доверия ФСБ РФ\".',\r\n\r\n            'Путину очень понравилась резиденция Ющенко - американцы установили там самые современные системы прослушивания, чем значительно упростили задачу ФСБ.',\r\n\r\n            'Каждый раз, когда ты пишешь в диалоге \"при встрече расскажу\", где-то в мире грустит маленький сотрудник ФСБ.',\r\n\r\n            '- Почему вы пришли именно к нам? - Хочу ездить на Гелендвагене и менять мочу у спортсменов. - Ok, вы приняты в ФСБ.',\r\n\r\n            'Они были такие романтичные, что над их перепиской ВКонтакте плакало даже ФСБ.',\r\n\r\n            'Никто и никогда вас так внимательно и душевно не выслушает, как следователь ФСБ на допросе.',\r\n\r\n            'Ходят слухи, что ФСБ прослушивает телефоны Кличко просто чтобы поржать.',\r\n\r\n            '- Алло, это ФСБ? - Да. - Извините, мы тут с другом поспорили. Чем я занимался 16 июля 1998 года?',\r\n\r\n            'АНБ прослушивает весь мир... А ФСБ прослушивает только АНБ.',\r\n\r\n            'Не заканчивайте MBA, заканчивайте Академию ФСБ - оттуда вышло больше миллиардеров...',\r\n        ]\r\n    };\r\n\r\n    viewAd = () => {\r\n        if (!bridge.supports('VKWebAppShowNativeAds')) return;\r\n\r\n        return bridge.send('VKWebAppShowNativeAds', { ad_format: 'reward' })\r\n            .then(async ad => {\r\n                if (!ad.result) {\r\n                    alert('Сообщений не найдено');\r\n                    return window.location.reload();\r\n                }\r\n                return this.setState({\r\n                    message: <RichCell\r\n                        disabled\r\n                        multiline\r\n                        before={<Avatar size={32} src=\"https://cdnimg.rg.ru/img/content/193/20/30/RIAN_6261110.HR.ru_d_850.jpg\" />}\r\n                        caption=\"Михаил Иванович\"\r\n                    >\r\n                        {this.state.random_messages[Math.floor(Math.random() * this.state.random_messages.length)]}\r\n                    </RichCell>\r\n                });\r\n            })\r\n            .catch(() => {\r\n                return window.location.reload();\r\n            });\r\n    }\r\n\r\n    openPopout() {\r\n        this.props.openPopout(\r\n            <Alert\r\n                actions={[{\r\n                    title: 'Нет',\r\n                    autoclose: true,\r\n                    style: 'cancel',\r\n                }, {\r\n                    title: 'Да',\r\n                    autoclose: true,\r\n                    action: this.showImg\r\n                }]}\r\n                onClose={() => this.props.closePopout()}\r\n            >\r\n                <h2>Вопрос значит</h2>\r\n                <p>Вас роняли в детстве?</p>\r\n            </Alert>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const {id} = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader>\r\n                    <PanelHeaderContent\r\n                        status=\"в сети\"\r\n                        before={<Avatar size={36} src=\"https://cdnimg.rg.ru/img/content/193/20/30/RIAN_6261110.HR.ru_d_850.jpg\" />}\r\n                    >\r\n                        Твой ФСБшник\r\n                    </PanelHeaderContent>\r\n                </PanelHeader>\r\n\r\n                <Group>\r\n                    <Div>\r\n                        {\r\n                            bridge.supports('VKWebAppShowNativeAds')\r\n                            ?\r\n                            (<Button stretched={true} before={<Icon28ViewOutline />} mode='outline' size='l' onClick={() => this.viewAd()}>Получить сообщение</Button>)\r\n                            :\r\n                            (<Button stretched={true} mode='outline' size='l' disabled>Доступно только с телефона.</Button>)\r\n                        }\r\n                    </Div>\r\n                </Group>\r\n\r\n                <Group>\r\n                    <RichCell\r\n                        disabled\r\n                        multiline\r\n                        before={<Avatar size={32} src=\"https://cdnimg.rg.ru/img/content/193/20/30/RIAN_6261110.HR.ru_d_850.jpg\" />}\r\n                        caption=\"Михаил Иванович\"\r\n                    >\r\n                        Здарова, общаться можем только тут, начальство запретило другие способы! Нажимай на кнопку и получишь от меня СМС!\r\n                    </RichCell>\r\n                    {this.state.message}\r\n                </Group>\r\n\r\n                <FixedLayout vertical=\"bottom\">\r\n                    <div>\r\n                        <Separator wide />\r\n                        <WriteBar\r\n                            after={\r\n                                <Fragment>\r\n                                    <WriteBarIcon>\r\n                                        <Icon28VoiceOutline />\r\n                                    </WriteBarIcon>\r\n                                </Fragment>\r\n                            }\r\n                            placeholder=\"Сообщение\"\r\n                            disabled=\"true\"\r\n                        />\r\n                    </div>\r\n                </FixedLayout>\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setPage,\r\n    goBack,\r\n    openPopout,\r\n    closePopout,\r\n    openModal\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(HomePanelBase);\r\n","import React, {PureComponent} from 'react';\r\n\r\nimport {Cell, Avatar} from \"@vkontakte/vkui\";\r\n\r\nclass GroupCell extends PureComponent {\r\n\r\n    render() {\r\n        const {description, photo, name} = this.props;\r\n\r\n        let desc = description.length > 0 ? description : \"Описание отсутствует\";\r\n\r\n        return (\r\n            <Cell\r\n                description={desc}\r\n                before={<Avatar size={40} src={photo}/>}\r\n            >\r\n                {name}\r\n            </Cell>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default GroupCell;","import React from 'react';\r\nimport GroupCell from '../components/GroupCell';\r\n\r\nexport const renderGroupsList = (items) => {\r\n    let groups = null;\r\n    if (items !== undefined && items !== null && items.length !== 0) {\r\n        groups = items.map((group) => (\r\n            <GroupCell\r\n                key={group.id}\r\n                description={group.description}\r\n                photo={group.photo_100}\r\n                name={group.name}/>\r\n        ));\r\n    }\r\n    return groups;\r\n};","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from \"redux\";\r\n\r\nimport {goBack, openPopout, closePopout, openModal} from \"../../store/router/actions\";\r\nimport * as VK from '../../services/VK';\r\n\r\nimport {renderGroupsList} from '../../services/renderers';\r\n\r\nimport {Div, List, Panel, Group, Button, PanelHeader, PanelSpinner, PanelHeaderBack, Header} from \"@vkontakte/vkui\";\r\n\r\nclass HomePanelGroups extends React.Component {\r\n\r\n    state = {\r\n        groups: {\r\n            admined: [],\r\n            other: [],\r\n        },\r\n        loading: true,\r\n        errorGetAuthToken: false\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (this.props.accessToken === undefined) {\r\n            this.getAuthToken();\r\n        } else {\r\n            this.getGroupsList();\r\n        }\r\n    }\r\n\r\n    getAuthToken() {\r\n        this.props.dispatch(VK.getAuthToken(['groups']));\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props !== prevProps) {\r\n            if (this.props.accessToken === null) {\r\n                this.setState({\r\n                    loading: false,\r\n                    errorGetAuthToken: true\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    loading: true,\r\n                    errorGetAuthToken: false\r\n                });\r\n\r\n                this.getGroupsList();\r\n            }\r\n        }\r\n    }\r\n\r\n    async getGroupsList() {\r\n        if (localStorage.getItem('userGroupsAdmined') && localStorage.getItem('userGroupsOther')) {\r\n            this.setState({\r\n                groups: {\r\n                    admined: JSON.parse(localStorage.getItem('userGroupsAdmined')),\r\n                    other: JSON.parse(localStorage.getItem('userGroupsOther')),\r\n                },\r\n                loading: false\r\n            });\r\n\r\n            return;\r\n        }\r\n\r\n        let groups = await VK.groupsGet();\r\n\r\n        let adminedGroups = groups.items.filter(function (item) {\r\n            return item.is_admin === 1;\r\n        });\r\n\r\n        let otherGroups = groups.items.filter(function (item) {\r\n            return item.is_admin === 0;\r\n        });\r\n\r\n        localStorage.setItem('userGroupsAdmined', JSON.stringify(adminedGroups));\r\n        localStorage.setItem('userGroupsOther', JSON.stringify(otherGroups));\r\n\r\n        this.setState({\r\n            groups: {\r\n                admined: adminedGroups,\r\n                other: otherGroups\r\n            },\r\n            loading: false\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {id, goBack} = this.props;\r\n\r\n        let adminedGroupsList = renderGroupsList(this.state.groups.admined);\r\n        let otherGroupsList = renderGroupsList(this.state.groups.other);\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={() => goBack()}/>}\r\n                >\r\n                    Группы\r\n                </PanelHeader>\r\n                {this.state.loading && <PanelSpinner/>}\r\n                {!this.state.loading && this.state.errorGetAuthToken && <Group>\r\n                    <Div>Возникла ошибка при получении данных, возможно Вы не выдали права на список групп.</Div>\r\n                    <Div>\r\n                        <Button size=\"l\" stretched={true} onClick={() => this.getAuthToken()}>Запросить\r\n                            повторно</Button>\r\n                    </Div>\r\n                </Group>}\r\n                {!this.state.loading && !this.state.errorGetAuthToken && adminedGroupsList &&\r\n                <Group header={\r\n                    <Header mode=\"secondary\">Администрируемые</Header>\r\n                }>\r\n                    <List>\r\n                        {adminedGroupsList}\r\n                    </List>\r\n                </Group>}\r\n                {!this.state.loading && !this.state.errorGetAuthToken && otherGroupsList &&\r\n                <Group header={\r\n                    <Header mode=\"secondary\">Остальные</Header>\r\n                }>\r\n                    <List>\r\n                        {otherGroupsList}\r\n                    </List>\r\n                </Group>}\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch,\r\n        ...bindActionCreators({goBack, openPopout, closePopout, openModal}, dispatch)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        accessToken: state.vkui.accessToken\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelGroups);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {openModal} from \"../../store/router/actions\";\r\n\r\nimport {List, Cell, Avatar, ModalPage, ModalPageHeader, PanelHeaderButton, withPlatform, IOS} from \"@vkontakte/vkui\";\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\r\n\r\nconst bots = [\r\n    {\r\n        name: 'VKS',\r\n        avatar: 'https://pp.userapi.com/c851520/v851520442/48ce/Sik7V4c58qw.jpg',\r\n        desc: 'Нет, меня не роняли в детстве'\r\n    },\r\n    {\r\n        name: 'Недобот',\r\n        avatar: 'https://pp.userapi.com/c854420/v854420431/da51/X8ohw4-4Fk4.jpg',\r\n        desc: 'Я ни разу не пил кокосовое молоко'\r\n    },\r\n    {\r\n        name: 'Realm of War',\r\n        avatar: 'https://sun9-72.userapi.com/c853520/v853520591/1f167d/avj_z9yFtQA.jpg?ava=1',\r\n        desc: 'Ненавижу спойлеры.'\r\n    },\r\n];\r\n\r\nclass HomeBotsListModal extends React.Component {\r\n\r\n    render() {\r\n        const {id, onClose, openModal, platform} = this.props;\r\n\r\n        return (\r\n            <ModalPage\r\n                id={id}\r\n                header={\r\n                    <ModalPageHeader\r\n                        left={platform !== IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Cancel/></PanelHeaderButton>}\r\n                        right={platform === IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Dismiss/></PanelHeaderButton>}\r\n                    >\r\n                        /appbots на минималках\r\n                    </ModalPageHeader>\r\n                }\r\n                onClose={onClose}\r\n                settlingHeight={80}\r\n            >\r\n                <List>\r\n                    {bots.map((bot, index) => (\r\n                        <Cell\r\n                            key={index}\r\n                            description={bot.desc}\r\n                            before={<Avatar size={40} src={bot.avatar}/>}\r\n                            onClick={() => openModal('MODAL_PAGE_BOT_INFO')}\r\n                            asideContent={<Icon24Chevron fill=\"#528bcc\"/>}\r\n                        >\r\n                            {bot.name}\r\n                        </Cell>\r\n                    ))}\r\n                </List>\r\n            </ModalPage>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    openModal\r\n};\r\n\r\nexport default withPlatform(connect(null, mapDispatchToProps)(HomeBotsListModal));\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {Cell, List, Avatar, InfoRow, ModalPage, ModalPageHeader, PanelHeaderButton, withPlatform, IOS} from \"@vkontakte/vkui\";\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\n\r\nclass HomeBotsListModal extends React.Component {\r\n\r\n    render() {\r\n        const {id, onClose, platform} = this.props;\r\n\r\n        return (\r\n            <ModalPage\r\n                id={id}\r\n                header={\r\n                    <ModalPageHeader\r\n                        left={platform !== IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Cancel/></PanelHeaderButton>}\r\n                        right={platform === IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Dismiss/></PanelHeaderButton>}\r\n                    >\r\n                        Информация о боте\r\n                    </ModalPageHeader>\r\n                }\r\n                onClose={onClose}\r\n                settlingHeight={80}\r\n            >\r\n                <Cell\r\n                    description=\"Описание\"\r\n                    before={<Avatar size={40} src=\"https://vk.com/images/community_100.png?ava=1\"/>}\r\n                >\r\n                    Название\r\n                </Cell>\r\n                <List>\r\n                    <Cell>\r\n                        <InfoRow header=\"Подписчиков\">\r\n                            8800\r\n                        </InfoRow>\r\n                    </Cell>\r\n                    <Cell>\r\n                        <InfoRow header=\"Записей\">\r\n                            555\r\n                        </InfoRow>\r\n                    </Cell>\r\n                    <Cell>\r\n                        <InfoRow header=\"Рейтинг\">\r\n                            3535\r\n                        </InfoRow>\r\n                    </Cell>\r\n                </List>\r\n            </ModalPage>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withPlatform(connect()(HomeBotsListModal));\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux'\r\nimport {goBack, closeModal, setStory} from \"./js/store/router/actions\";\r\nimport {getActivePanel} from \"./js/services/_functions\";\r\nimport * as VK from './js/services/VK';\r\n\r\nimport {Epic, View, Root, Tabbar, ModalRoot, TabbarItem, ConfigProvider} from \"@vkontakte/vkui\";\r\n\r\nimport Icon28Newsfeed from '@vkontakte/icons/dist/28/newsfeed';\r\n\r\nimport HomePanelBase from './js/panels/home/base';\r\nimport HomePanelGroups from './js/panels/home/groups';\r\n\r\nimport HomeBotsListModal from './js/components/modals/HomeBotsListModal';\r\nimport HomeBotInfoModal from './js/components/modals/HomeBotInfoModal';\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\n\r\nclass App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.lastAndroidBackAction = 0;\r\n        bridge.send('VKWebAppJoinGroup', { 'group_id': 188759640 });\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {goBack, dispatch} = this.props;\r\n\r\n        dispatch(VK.initApp());\r\n\r\n        window.onpopstate = () => {\r\n            let timeNow = +new Date();\r\n\r\n            if (timeNow - this.lastAndroidBackAction > 500) {\r\n                this.lastAndroidBackAction = timeNow;\r\n\r\n                goBack();\r\n            } else {\r\n                window.history.pushState(null, null);\r\n            }\r\n        };\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const {activeView, activeStory, activePanel, scrollPosition} = this.props;\r\n\r\n        if (\r\n            prevProps.activeView !== activeView ||\r\n            prevProps.activePanel !== activePanel ||\r\n            prevProps.activeStory !== activeStory\r\n        ) {\r\n            let pageScrollPosition = scrollPosition[activeStory + \"_\" + activeView + \"_\" + activePanel] || 0;\r\n\r\n            window.scroll(0, pageScrollPosition);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {goBack, setStory, closeModal, popouts, activeView, activeStory, activeModals, panelsHistory, colorScheme} = this.props;\r\n\r\n        let history = (panelsHistory[activeView] === undefined) ? [activeView] : panelsHistory[activeView];\r\n        let popout = (popouts[activeView] === undefined) ? null : popouts[activeView];\r\n        let activeModal = (activeModals[activeView] === undefined) ? null : activeModals[activeView];\r\n\r\n        const homeModals = (\r\n            <ModalRoot activeModal={activeModal}>\r\n                <HomeBotsListModal\r\n                    id=\"MODAL_PAGE_BOTS_LIST\"\r\n                    onClose={() => closeModal()}\r\n                />\r\n                <HomeBotInfoModal\r\n                    id=\"MODAL_PAGE_BOT_INFO\"\r\n                    onClose={() => closeModal()}\r\n                />\r\n            </ModalRoot>\r\n        );\r\n\r\n        return (\r\n            <ConfigProvider isWebView={true} scheme={colorScheme}>\r\n                <View\r\n                    id=\"home\"\r\n                    modal={homeModals}\r\n                    activePanel={getActivePanel(\"home\")}\r\n                    history={history}\r\n                    onSwipeBack={() => goBack()}\r\n                >\r\n                    <HomePanelBase id=\"base\" withoutEpic={false}/>\r\n                    <HomePanelGroups id=\"groups\"/>\r\n                </View>\r\n            </ConfigProvider>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activeView: state.router.activeView,\r\n        activeStory: state.router.activeStory,\r\n        panelsHistory: state.router.panelsHistory,\r\n        activeModals: state.router.activeModals,\r\n        popouts: state.router.popouts,\r\n        scrollPosition: state.router.scrollPosition,\r\n\r\n        colorScheme: state.vkui.colorScheme\r\n    };\r\n};\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch,\r\n        ...bindActionCreators({setStory, goBack, closeModal}, dispatch)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport {applyMiddleware, createStore} from \"redux\";\r\nimport thunk from 'redux-thunk';\r\nimport {Provider} from 'react-redux';\r\nimport rootReducer from './js/store/reducers';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\n\r\nimport {setStory} from \"./js/store/router/actions\";\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './css/main.css';\r\n\r\nimport App from './App';\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(\r\n    applyMiddleware(thunk),\r\n));\r\n\r\nstore.dispatch(setStory('home', 'base'));\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}